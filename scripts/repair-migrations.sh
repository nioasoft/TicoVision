#!/bin/bash

# Script to repair migration history by marking old migrations as reverted

echo "ðŸ”§ Repairing migration history..."

# Mark all old migrations as reverted
npx supabase migration repair --status reverted 20250909015302 20250909015327 20250909015458 20250909085635 20250910010748 20250910012432 20250910012454 20250910012608 20250910035843 20250910035949 20250910060822 20250910072646 20250910073552 20250910074638 20250910074825 20250910074949 20250910075021 20250910075052 20250910075118 20250910075133 20250910075225 20250910075308 20250910075344 20250910080750 20250910080914 20250910102253 20250911053309 20250911053455 20250911053602 20250911053703 20250911053757 20250911080821 20250911082004 20250929063731 20250929063804 20250929063818 20250929064742 20250929064909 20250929065047 20250929095215 20250929095245 20250929095310 20250929095444 20250930062836 20250930064223 20251001074437 20251003021114 20251003023026 20251003024249 20251003024818 20251003025126 20251003025438 20251003025626 20251003030026 20251003030212 20251003030245 20251003030323 20251003030755 20251003030904 20251003031018 20251003031110 20251003070742 20251003070819 20251003070820 20251003070822 20251003070950 20251003071537 20251003091312 20251003091411 20251003113434 20251004080353 20251004080919 20251004084111 20251004084237

echo "âœ… Migration history repaired!"
echo ""
echo "Now you can run: npx supabase db push"
