/**
 * FAQ Content
 * Frequently asked questions about the TicoVision CRM system
 */

import type { FAQItem } from '../types/help.types';

export const FAQ_ITEMS: FAQItem[] = [
  // ============================================
  // COLLECTION SYSTEM FAQs
  // ============================================
  {
    id: 'faq-dispute-claim',
    question: 'מה לעשות אם הלקוח טוען ששילם?',
    answer: `כשלקוח טוען ששילם, יש לבדוק את הטענה בדף הערעורים:
1. היכנס לדף "ערעורים" בתפריט הגביה
2. מצא את הערעור של הלקוח
3. בדוק את הפרטים שהלקוח מסר (תאריך, אמצעי תשלום, אסמכתא)
4. השווה מול החשבון בבנק או מערכת הנהלת החשבונות
5. אם מצאת את התשלום - אשר את הערעור
6. אם לא נמצא - דחה את הערעור והסבר ללקוח`,
    category: 'collections',
    tags: ['ערעור', 'שילמתי', 'מחלוקת', 'תשלום'],
  },
  {
    id: 'faq-bulk-reminder',
    question: 'איך לשלוח תזכורת למספר לקוחות בבת אחת?',
    answer: `ניתן לשלוח תזכורות מרובות באמצעות פעולות Bulk:
1. בטבלת הגביה, סמן את התיבות ליד הלקוחות הרצויים
2. בתחתית המסך יופיע סרגל פעולות
3. לחץ על "שלח מייל מרוכז" או "שלח WhatsApp"
4. בחר תבנית הודעה
5. אשר את השליחה

שים לב: כל לקוח יקבל מייל/הודעה נפרדת עם הפרטים שלו.`,
    category: 'collections',
    tags: ['תזכורת', 'bulk', 'מרובה', 'מייל'],
  },
  {
    id: 'faq-payment-status-colors',
    question: 'מה המשמעות של צבעי הסטטוס בטבלה?',
    answer: `צבעי הסטטוס מציינים את מצב התשלום:
• אפור (טיוטה) - מכתב נוצר אך טרם נשלח
• כחול (נשלח) - מכתב נשלח ללקוח
• כתום (שולם חלקית) - התקבל תשלום חלקי
• ירוק (שולם) - התקבל תשלום מלא
• אדום (באיחור) - עבר זמן התשלום והחוב טרם נפרע`,
    category: 'collections',
    tags: ['סטטוס', 'צבעים', 'תשלום'],
  },
  {
    id: 'faq-export-excel',
    question: 'איך לייצא דוח גביה לאקסל?',
    answer: `יש שתי דרכים לייצא לאקסל:

1. ייצוא מהטבלה הראשית:
   - סמן את הלקוחות הרצויים (או השאר ריק לכולם)
   - לחץ על "ייצוא לאקסל" בסרגל הפעולות

2. ייצוא מדף הדוחות:
   - היכנס ל"דוחות" בתפריט הגביה
   - בחר סוג דוח וטווח תאריכים
   - לחץ "ייצוא לאקסל"`,
    category: 'collections',
    tags: ['אקסל', 'ייצוא', 'דוח'],
  },
  {
    id: 'faq-payment-methods',
    question: 'מה ההנחות לפי אמצעי תשלום?',
    answer: `ההנחות נקבעות לפי אמצעי התשלום שהלקוח בוחר:
• העברה בנקאית: 9% הנחה
• כרטיס אשראי (תשלום אחד): 8% הנחה
• כרטיס אשראי (תשלומים): 4% הנחה
• צ'קים: ללא הנחה (0%)

ההנחות מחושבות אוטומטית במכתב שכר הטרחה.`,
    category: 'collections',
    tags: ['הנחה', 'תשלום', 'אשראי', 'העברה'],
  },
  {
    id: 'faq-promise-overdue',
    question: 'מה קורה כשהבטחת תשלום לא מומשה?',
    answer: `כשהבטחת תשלום עוברת את התאריך:
1. ההבטחה תופיע ב"סדר יום להיום" כ"הבטחות שעבר זמנן"
2. הלקוח יסומן בהתראה כתומה בטבלה
3. תקבל/י התראה במערכת (אם הוגדר)

מומלץ לפנות ללקוח ולברר את סיבת העיכוב, ובמידת הצורך - לעדכן תאריך הבטחה חדש.`,
    category: 'collections',
    tags: ['הבטחה', 'איחור', 'מעקב'],
  },
  {
    id: 'faq-letter-not-opened',
    question: 'איך לדעת אם הלקוח פתח את המייל?',
    answer: `המערכת עוקבת אחר פתיחת מיילים:
• בטבלת הגביה, עמודת "סטטוס" מציגה אם המייל נפתח
• בהרחבת השורה, תראה את מועד הפתיחה ומספר הפתיחות
• לקוחות שלא פתחו מייל 7+ ימים יסומנו בהתראה
• ב"סדר יום להיום" יש קטגוריה ייעודית ללקוחות שלא פתחו`,
    category: 'collections',
    tags: ['מייל', 'פתיחה', 'מעקב'],
  },

  // ============================================
  // LETTERS SYSTEM FAQs
  // ============================================
  {
    id: 'faq-letter-types',
    question: 'מה ההבדל בין סוגי המכתבים השונים?',
    answer: `קיימות 11 תבניות מכתב לסיטואציות שונות:

• שנתי קבוע - שכר טרחה שנתי קבוע
• שנתי לפי הסכם - לפי הסכם חתום
• חד פעמי - עבור שירות חד פעמי
• ייעוץ שעתי - לפי שעות עבודה
• ירושה/עזבון - לטיפול בירושות
• ועוד...

כל תבנית כוללת ניסוחים מותאמים לסיטואציה.`,
    category: 'letters',
    tags: ['תבניות', 'סוגים', 'מכתב'],
  },
  {
    id: 'faq-letter-edit-after-send',
    question: 'איך לשנות את תבנית המכתב אחרי שנשלח?',
    answer: `לא ניתן לשנות מכתב שכבר נשלח, אבל ניתן:
1. ליצור מכתב חדש עם התיקונים
2. לשלוח מייל עדכון ללקוח
3. לציין בהערות שזו גרסה מעודכנת

אם מדובר בטעות קריטית (כמו סכום שגוי), מומלץ ליצור קשר טלפוני עם הלקוח לפני שליחת מכתב מתוקן.`,
    category: 'letters',
    tags: ['עריכה', 'שינוי', 'תיקון'],
  },
  {
    id: 'faq-letter-view-sent',
    question: 'איך לצפות במכתב שנשלח ללקוח?',
    answer: `יש מספר דרכים לצפות במכתב שנשלח:
1. בטבלת הגביה - הרחב את שורת הלקוח ולחץ "צפה במכתב"
2. בהיסטוריית מכתבים - חפש את המכתב ולחץ לצפייה
3. דרך הקישור שנשלח ללקוח - העתק את הקישור מהמייל

ניתן גם להוריד את ה-PDF שוב מכל אחת מהאפשרויות.`,
    category: 'letters',
    tags: ['צפייה', 'היסטוריה', 'מכתב'],
  },
  {
    id: 'faq-letter-logo',
    question: 'איך להוסיף את הלוגו של המשרד למכתבים?',
    answer: `הלוגו מוגדר בהגדרות המערכת:
1. היכנס ל"הגדרות" בתפריט
2. בקטגוריה "פרטי משרד" העלה את הלוגו
3. וודא שהתמונה באיכות גבוהה (מומלץ PNG שקוף)
4. הלוגו יופיע אוטומטית בכל המכתבים

שים לב: גודל מומלץ 400x200 פיקסלים.`,
    category: 'letters',
    tags: ['לוגו', 'עיצוב', 'הגדרות'],
  },

  // ============================================
  // CLIENTS SYSTEM FAQs
  // ============================================
  {
    id: 'faq-add-client',
    question: 'איך להוסיף לקוח חדש למערכת?',
    answer: `להוספת לקוח חדש:
1. היכנס ל"לקוחות" → "לקוח בודד"
2. לחץ על כפתור "הוסף לקוח"
3. מלא את הפרטים הנדרשים:
   - שם הלקוח/חברה
   - ח.פ. או ת.ז.
   - סוג עסק
   - פרטי קשר
4. לחץ "שמור"

לאחר השמירה תוכל להוסיף אנשי קשר וקבצים.`,
    category: 'clients',
    tags: ['לקוח', 'הוספה', 'חדש'],
  },
  {
    id: 'faq-client-contacts',
    question: 'איך לנהל אנשי קשר של לקוח?',
    answer: `ניהול אנשי קשר:
1. פתח את כרטיס הלקוח
2. עבור ללשונית "אנשי קשר"
3. לחץ "הוסף איש קשר"
4. הזן פרטים: שם, תפקיד, טלפון, מייל
5. סמן אם זהו איש הקשר הראשי

ניתן להוסיף מספר אנשי קשר לכל לקוח, ולהגדיר מי מקבל מיילים.`,
    category: 'clients',
    tags: ['איש קשר', 'טלפון', 'מייל'],
  },

  // ============================================
  // FILES SYSTEM FAQs
  // ============================================
  {
    id: 'faq-file-upload',
    question: 'איך להעלות קבצים ללקוח?',
    answer: `העלאת קבצים:
1. היכנס ל"מנהל הקבצים"
2. בחר לקוח מהרשימה
3. בחר קטגוריה (למשל: רשם חברות, דו"ח כספי)
4. גרור קבצים לאזור ההעלאה או לחץ לבחירה
5. הקבצים יועלו אוטומטית

ניתן להעלות מספר קבצים בו-זמנית. פורמטים נתמכים: PDF, תמונות, Word, Excel.`,
    category: 'files',
    tags: ['העלאה', 'קבצים', 'מסמכים'],
  },
  {
    id: 'faq-file-categories',
    question: 'מה הקטגוריות הזמינות לקבצים?',
    answer: `קיימות 10 קטגוריות לארגון קבצים:
1. רשם החברות - תעודות התאגדות
2. דו"ח כספי מבוקר - דוחות שנתיים
3. כרטיסי הנהח"ש - כרטסות
4. הצעות מחיר/חיוב - מסמכים מסחריים
5. אסמכתאות 2026 - קבלות ואישורים
6. מצגת החזקות - מבנה בעלות
7. כללי - מסמכים שונים
8. אישורי עובדים זרים - היתרים
9. פרוטוקולים - ישיבות
10. הסכמים - חוזים`,
    category: 'files',
    tags: ['קטגוריות', 'ארגון', 'קבצים'],
  },

  // ============================================
  // GENERAL FAQs
  // ============================================
  {
    id: 'faq-password-reset',
    question: 'שכחתי את הסיסמה, מה עושים?',
    answer: `לאיפוס סיסמה:
1. בדף ההתחברות, לחץ על "שכחתי סיסמה"
2. הזן את כתובת המייל שלך
3. קבל מייל עם קישור לאיפוס
4. לחץ על הקישור והגדר סיסמה חדשה

אם לא קיבלת מייל, בדוק בתיקיית הספאם או פנה למנהל המערכת.`,
    category: 'settings',
    tags: ['סיסמה', 'איפוס', 'התחברות'],
  },
  {
    id: 'faq-user-roles',
    question: 'מה ההרשאות של כל סוג משתמש?',
    answer: `סוגי משתמשים והרשאותיהם:

• מנהל (Admin) - גישה מלאה לכל המערכת
• רואה חשבון (Accountant) - גישה למסמכים ומכתבים
• מנהלת חשבונות (Bookkeeper) - גישה ללקוחות וקבצים
• לקוח (Client) - גישה לצפייה בקבצים שלו בלבד

ניתן להתאים הרשאות ספציפיות דרך "ניהול משתמשים".`,
    category: 'settings',
    tags: ['הרשאות', 'משתמשים', 'תפקידים'],
  },
];

/**
 * Get FAQs by category
 */
export function getFAQsByCategory(category: string): FAQItem[] {
  return FAQ_ITEMS.filter((faq) => faq.category === category);
}

/**
 * Get FAQ by ID
 */
export function getFAQById(id: string): FAQItem | undefined {
  return FAQ_ITEMS.find((faq) => faq.id === id);
}

/**
 * Search FAQs by query
 */
export function searchFAQs(query: string): FAQItem[] {
  const lowerQuery = query.toLowerCase();
  return FAQ_ITEMS.filter(
    (faq) =>
      faq.question.toLowerCase().includes(lowerQuery) ||
      faq.answer.toLowerCase().includes(lowerQuery) ||
      faq.tags.some((tag) => tag.toLowerCase().includes(lowerQuery))
  );
}
